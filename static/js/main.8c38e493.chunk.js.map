{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","addToMovieWillWatch","removeMovie","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","classNames","onClick","setState","React","Component","MovieTabs","nexProps","sort_by","updateSortBy","handleClick","value","App","getMovies","fetch","page","then","response","json","data","movies","results","total_pages","updateMovies","filter","item","id","console","log","moviesWillWatch","nextPage","prevPage","prevState","map","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8c38e493.chunk.js","sourcesContent":["import React from 'react'\nimport classNames from \"classnames\";\n\n\nclass MovieItem extends React.Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      willWatch: false\n    }\n  }\n\n  render() {\n    \n    const {movie, removeMovie, addToMovieWillWatch, removeMovieFromWillWatch} = this.props;\n    return(\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\n            movie.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h5 className=\"card-title mb-5 mt-2\">{movie.title}</h5>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {movie.vote_average}</p>\n            <button \n              type=\"button\"   \n              className={classNames('btn', \n                                    {'btn-success': this.state.willWatch}, \n                                    {'btn-secondary': !this.state.willWatch}\n                                    )}\n              onClick={ () => {\n                this.setState({\n                  willWatch: !this.state.willWatch\n                })\n                this.state.willWatch ? removeMovieFromWillWatch(movie) : addToMovieWillWatch(movie)\n              }}              \n            >\n              Will Watch\n            </button>         \n          </div>\n        </div>\n        {/* <button onClick={removeMovie.bind(null, movie)}>Delete Movie</button> */}\n      </div>\n    )\n  }\n}\n\nexport default MovieItem;","import React from \"react\";\nimport classNames from \"classnames\";\n\n\nclass MovieTabs extends React.Component {\n\n  shouldComponentUpdate(nexProps) {\n    return this.props.sort_by !== nexProps.sort_by; //check if sort_by updated\n  }\n\n  render() {\n    const { sort_by, updateSortBy } = this.props;\n\n    const handleClick = value => () => {\n        updateSortBy(value)\n    }\n\n    return (\n      <div className=\"\">\n        <ul className=\"tabs nav nav-pills\">\n          <li className=\"nav-item\">\n            <div\n              className={classNames('nav-link', {'active': sort_by === 'popularity.desc'})}\n              onClick={handleClick(\"popularity.desc\")}\n            >\n              Popularity\n            </div>\n          </li>\n          <li className=\"nav-item\">\n            <div\n              className={classNames('nav-link', {'active': sort_by === 'revenue.desc'})}\n              onClick={handleClick(\"revenue.desc\")}\n            >\n              Revenue\n            </div>\n          </li>\n          <li className=\"nav-item\">\n            <div\n              className={classNames('nav-link', {'active': sort_by === 'vote_average.desc'})}\n              onClick={handleClick(\"vote_average.desc\")}\n            >\n              Rating\n            </div>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n};\n\nexport default MovieTabs;\n","import React from \"react\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"popularity.desc\",\n      page: 1,\n      total_pages: null\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  componentDidUpdate(prevState) {\n    if ((prevState.sort_by !== this.state.sort_by) || (prevState.page !== this.state.page) ) {\n      this.getMovies();\n    }\n\n  }\n\n  getMovies = () => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({\n          movies: data.results,\n          total_pages: data.total_pages\n        });\n      });\n  };\n\n  removeMovie = (movie) => {\n    const updateMovies = this.state.movies.filter((item) => {\n      return item.id !== movie.id;\n    });\n\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addToMovieWillWatch = (movie) => {\n    console.log(movie.title);\n    const updateMovies = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch: updateMovies\n    });\n  };\n\n  removeMovieFromWillWatch = (movie) => {\n    const updateMovies = this.state.moviesWillWatch.filter((item) => {\n      return item.id !== movie.id;\n    });\n\n    this.setState({\n      moviesWillWatch: updateMovies\n    });\n  };\n\n  updateSortBy = (value) => {\n    this.setState({\n      sort_by: value\n    });\n  };\n\n  nextPage = () => {\n    if (this.state.page < this.state.total_pages) { \n      this.setState({\n        page: this.state.page + 1\n      })\n    }\n  }\n\n  prevPage = () => {\n    if (this.state.page > 1) { \n      this.setState({\n        page: this.state.page - 1\n      })\n    }\n  }\n\n\n  render() {\n    return (\n      <div className=\"container pt-2\">\n        <div className=\"row\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addToMovieWillWatch={this.addToMovieWillWatch}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3 will-watch\">\n            <p>Will Watch:</p>\n            <ul>\n              {this.state.moviesWillWatch.map((movie) => {\n                return <li key={movie.id}>{movie.title}</li>;\n              })}\n            </ul>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"text-center w-100 mb-3\">\n              <button type=\"button\" className=\"btn btn-outline-primary\" onClick={this.prevPage}>Previous</button>\n              <span className=\"px-3\">{`Page ${this.state.page} of ${this.state.total_pages}`}</span>\n              <button type=\"button\" className=\"btn btn-outline-primary\" onClick={this.nextPage}>Next</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\"\n\nexport const API_KEY_3 = \"588a2be261d7a5d5b97bfb552766ccfe\"\n\nexport const API_KEY_4 = \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1ODhhMmJlMjYxZDdhNWQ1Yjk3YmZiNTUyNzY2Y2NmZSIsInN1YiI6IjVlOTgyYjdlMDU4MjI0MDAxYWFlNTYyNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BIAmnG0r3YlkrHT0UjUVZCgMU_5Z25iNMqFdLnrcw48\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './stylesheets/index.scss';\nimport App from './components/App'\n\n// function Image(props) {\n//   return (\n//     <img src={props.src} alt={props.alt}/>\n//   )\n// }\n\n// class MovieItem extends React.Component {\n//   constructor () {\n//     super();\n\n//     this.state = {\n//       show: true,\n//       like: false\n//     }\n//   }\n  \n//   toggleOverview = () => {\n//     this.setState({\n//       show: !this.state.show\n//     })\n//   }\n\n//   handleLike = () => {\n//     this.setState({\n//       like: !this.state.like\n//     })\n//   }\n\n//   render() {\n//     const { data: {title, vote_average, backdrop_path, overview} } = this.props;\n//     return (\n//       <div style={{maxWidth: \"500px\", margin: \"0 auto\", backgroundColor: \"#bbb\", padding: \"0.5em 1em\"}}>\n//         <Image src={`https://image.tmdb.org/t/p/w500${backdrop_path}`} alt={title} />\n//         <p>{title}</p>\n//         <p>{vote_average}</p>\n//         <div style={{display: \"flex\", justifyContent: \"space-between\"}}>\n//           <button type=\"button\" onClick={this.toggleOverview}>\n//             {this.state.show ? \"hide\" : \"show\"}\n//           </button>\n//           <button \n//             type=\"button\" \n//             onClick={this.handleLike} \n//             className={this.state.like ? \"btn--like\" : \"\"}\n//             style ={{outline: \"none\"}}\n//           >\n//             Like\n//           </button>\n//         </div>\n//         {this.state.show ? <p>{overview}</p> : null }\n//       </div>\n//     )\n//   }\n// }\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}